## 版本控制

即控制版本，帮助控制（或管理）某事物（通常是源代码）的不同版本。（保留项目的详细历史记录）

## 两大类型

* 集中式（所用用户都连接到一个中央的主仓库）
* 分布式（每个用户本地都拥有一个完整的仓库）

> _Git_就是分布式的版本控制工具

> _GitHub_则是托管Git项目的服务

## 关键术语

**版本控制系统（VCS）：**管理源代码不同版本的工具；**源代码管理器（SCM）:**版本控制系统的另一个名称。Git是一个SCM，也是一个VCS，它的网站是[https://git-scm.com/](https://git-scm.com/)。

**提交（Commit）：**Git将数据看作微型文件系统中的一组快照。每次commit，都对文件当时的状态拍照，并保存该快照的引用。commit是Git中的基本单位。

**仓库（Repository/repo）：**一个包含项目内容和几个文件（在Mac OS上默认处于隐藏状态）的目录，可以存储在本地，或者作为远程副本存储在其他计算机上，由commit构成。

**工作目录（Working Directory）：**在计算机的文件系统中可以看到的文件，当在代码编辑器中打开项目文件时，正是在工作目录中处理文件。与这些文件形成对比的是保存在仓库里的文件。

**检出（Checkout）：**将仓库中的内容复制到工作目录下。

**暂存区/暂存索引（Staging Area/Staging Index）：**Git目录下的一个文件，存储即将进入下一个commit内容的信息。可将其看作准备工作台，Git将在此获取下一个commit。

**SHA（Secure Hash Algorithm，安全哈希算法）：**由0～9、a～f组成的长度为40的字符串，根据Git中文件或目录结构的内容得出，是每个commit的ID编号，示例：`e2adf8ae3e2e4ed40add75cc44cf9d0a869afeb6`。

**分支（Branch）：**从主开发流程中分支出来的新的开发流程。这种分支开发流程可以在不更改主流程的情况下继续延伸下去。

## Git命令

`git init`在计算机上从头创建全新仓库。运行该命令会初始化Git跟踪所有内容会用到的所有必要文件和目录。所有这些文件存储在.git目录（在Mac/Linux上将是一个隐藏目录）下，该目录就是一个库，Git将所有commit记录在这里，并跟踪所有内容。.git目录下各项内容：
* config文件 - 存储与项目相关的配置信息
* description文件 - 用于GitWeb程序
* hooks目录 - 放置客户端或服务器脚本，以便用来连接到Git的不同生命周期事件
* info目录 - 包含全局排除文件
* objects目录 - 存储提交的所有commit
* refs目录 - 存储指向commit的指针（通常是“分支”和“标签”）

`git clone`将一个现有仓库从其他地方克隆或复制到本地计算机上。该命令后传入要克隆的Git仓库的路径（通常是URL），示例：```git clone https://github.com/udacity/course-git-blog-project```。默认创建一个与被克隆仓库名称相同的目录，也可以再提供一个参数作为该目录的名称。

`git status`查看仓库当前状态。输出结构将有所不同，具体取决于文件是否被添加/删除/修改、暂存索引的情况，以及仓库的状态。

`git log`显示有关所有commit的信息。默认情况下，显示每个commit的：
* SHA（commit ID，完整的、唯一的）
* 作者（author）
* 日期（date）
* 消息（commit message）


`--oneline`选项用于更改`git log`显示信息的方式：

* 每行显示一个commit
* 显示commit的SHA的前七个字符
* 显示commit的消息

`--stat`（stat是statistics 统计信息的简称）选项用于更改`git log`显示信息的方式：

* 显示被修改的文件
* 显示添加/删除的行数
* 显示摘要，其中包含被修改的总文件数和添加/删除的总行数


`-p`（`--patch`的简写）选项用于更改`git log`显示信息的方式：

* 显示被修改的文件
* 显示添加/删除的行所在的位置
* 显示作出的实际更改


_命令行分页器/less的使用：_

* 要**向下**滚动，按：
  * `j` - 移动一行
  * `d` - 移动半屏
  * `f` - 移动整屏
* 要**向上**滚动，按：
  * `k` - 移动一行
  * `u` - 移动半屏
  * `b` - 移动整屏
* 要**退出**日志，按`q`


`git show`显示有关指定commit的信息。输出和`git log -p`完全一样，默认情况下，显示：

* commit ID
* author
* date
* commit message
* patch info
